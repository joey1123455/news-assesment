# Define the default target, which is executed when you run just 'make' without any arguments.
.PHONY: default
default: help

# Display help message
.PHONY: help
help:
	@echo "Usage:"
	@echo "  make build         Build Docker images"
	@echo "  make up            Start services with logs"
    @echo "  make server        Start services in the background"
	@echo "  make down          Stop and remove services"
    @echo "  make log           show containers and logs"
    @echo "  make logs          show containers and logs"
	@echo ""
	@echo "Variables:"
	@echo "  SERVICE           Specify a specific service to build or run tests on"

# Build Docker images
.PHONY: build
build:
	docker-compose -f $(COMPOSE_FILE) build $(SERVICE)

# Start services
.PHONY: up
up:
    docker-compose up --build --remove-orphans

# Start services in background
.PHONY: server
server:
	docker-compose up -d

# Stop and remove services
.PHONY: down
down:
	docker-compose down

# Show log for a paticular service
.PHONY: log
log:
    docker-compose logs $(SERVICE)

# Show log for all services
.PHONY: logs
logs:
    docker-compose logs




